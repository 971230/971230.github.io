---
title: 单例模式
description: 单例模式
status: new
---

# 单例模式

<P style="text-indent:2em;">
单例模式的核心目的就是控制对象的创建，以达到特定对象的唯一性，实际业务中有很多都是要保证对象的不变性，
其中Spring Boot框架的容器思想，将对象放入容器进行管理，这个对象就是单例对象。
具体实现上，最经典的就是懒汉和饿汉两种，懒汉就是你需要使用到了才创建，饿汉就是无论你用不用的到都先创建。
这其实很具有计算机的思想，在很多其他地方都有应用。
</p>

## ➊ 懒汉式

<P style="text-indent:2em;">
懒汉式就是使用到了固定对象在创建它，按照我的理解就是避免创建了对象，却长时间不使用而造成计算机资源的浪费，
但是代价就是，你要用就要自己创建，这个是要时间的，尽管在现代计算机这个时间很短。而且这个方式有一个最大的问题：
使用时要考虑多线程环境，不然不安全，会创建多个对象而破坏了对象的唯一性。
</p>

<P style="text-indent:2em;">
要控制对象的创建，第一步就是将构造方法设置成private，否则没有任何一种方式叫作单例。第二步就是要有一个获取对象的方法，
且是public的，示例代码中的getInstance()就是，通过判断对象是否已经存在，来保证对象的唯一性。
</p>

<P style="text-indent:2em;">
但是它在多线程环境下是不安全的，多个线程同时调用getInstance()方法，if判断这个条件是不安全的，也就容易破坏单一性，适用方法就有限制。
</p>

```java
public class SingletonOfLazy {
    private static SingletonOfLazy INSTANCE = null;

    private SingletonOfLazy() {
    }

    public static SingletonOfLazy getInstance() {
        if (INSTANCE == null) {
            INSTANCE = new SingletonOfLazy();
        }
        return INSTANCE;
    }
}
```

# ➋ 饿汉式

<P style="text-indent:2em;">
饿汉式就是无论你用不用的到，我都先创建对象，你要用就直接用，比喻使用者饿了，不要等待创建过程直接“吃”。
</p>
